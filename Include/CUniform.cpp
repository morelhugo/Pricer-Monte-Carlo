//////////////////////////////////////////////////////////////////////////////////////////////
///// Fichier CUniform.cpp : Definition de la classe CUniform  ///////// 
//////////////////////////////////////////////////////////////////////////////////////////////

#include <stdio.h>
#include <cstdlib>
#include <cmath>
#include <ctime>

///////////////////////////////////////////////////////////////////////////

#include "CUniform.hpp"

///////////////////////////////////////////////////////////////////////////

const double CUniform::Epsilon = 0.000001;

///////////////////////////////////////////////////////////////////////////

CUniform::CUniform(double ai, double bi, int seedi)
{
	a    = ai + Epsilon; // On ajoute Epsilon pour utiliser Box Muller quand U = 0  
	b    = bi;
	seed = seedi ;
	srand(seed);
}

///////////////////////////////////////////////////////////////////////////

CUniform::~CUniform()
{
}

///////////////////////////////////////////////////////////////////////////

double CUniform::simule() const
{
	return  double(rand() % 101 * (b - a) + a) / 100;
}

///////////////////////////////////////////////////////////////////////////

double CUniform::mean() const
{
	return (a + b) / 2 ;
}

///////////////////////////////////////////////////////////////////////////

double CUniform::variance() const
{
	return pow(b - a, 2) / 12 ;
}

///////////////////////////////////////////////////////////////////////////

double CUniform::distribution_fonction(double x) const
{
	if (x < a)
	{
		return 0.0 ;
	}
	else if ((a <= x) && (x <= b))
	{
		return (x - a) / (b - a) ;	
	}
	else
	{
		return 1.0;
	}
}

///////////////////////////////////////////////////////////////////////////
